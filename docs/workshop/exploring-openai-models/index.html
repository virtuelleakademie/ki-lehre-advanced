<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exploring OpenAI Models – KI in der Lehre: Advanced</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../workshop/api-tricks/index.html" rel="next">
<link href="../../workshop/setup-colab/index.html" rel="prev">
<link href="../..//assets/robot.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-6df6315c84b1da3d0db85aff61715762.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/quarto-timer-1.0.0/timer.js"></script>
<link href="../../site_libs/quarto-contrib/quarto-timer-1.0.0/timer.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<style>
div.callout-pro-tip.callout {
  border-left-color: gold;
}
div.callout-pro-tip.callout-style-default > .callout-header {
  background-color: rgb(from gold r g b / 13%);
}
div.callout-pro-tip .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-pro-tip.callout-style-default .callout-icon::before, div.callout-pro-tip.callout-titled .callout-icon::before {
  content: '💡';
  background-image: none;
}
div.callout-testing.callout {
  border-left-color: green;
}
div.callout-testing.callout-style-default > .callout-header {
  background-color: rgb(from green r g b / 13%);
}
div.callout-testing .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-testing.callout-style-default .callout-icon::before, div.callout-testing.callout-titled .callout-icon::before {
  content: '🧪';
  background-image: none;
}
div.callout-break.callout {
  border-left-color: yellow;
}
div.callout-break.callout-style-default > .callout-header {
  background-color: rgb(from yellow r g b / 13%);
}
div.callout-break .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-break.callout-style-default .callout-icon::before, div.callout-break.callout-titled .callout-icon::before {
  content: '☕';
  background-image: none;
}
div.callout-screens-up.callout {
  border-left-color: green;
}
div.callout-screens-up.callout-style-default > .callout-header {
  background-color: rgb(from green r g b / 13%);
}
div.callout-screens-up .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-screens-up.callout-style-default .callout-icon::before, div.callout-screens-up.callout-titled .callout-icon::before {
  content: '🔼';
  background-image: none;
}
div.callout-checkpoint.callout {
  border-left-color: purple;
}
div.callout-checkpoint.callout-style-default > .callout-header {
  background-color: rgb(from purple r g b / 13%);
}
div.callout-checkpoint .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-checkpoint.callout-style-default .callout-icon::before, div.callout-checkpoint.callout-titled .callout-icon::before {
  content: '🎯';
  background-image: none;
}
div.callout-group.callout {
  border-left-color: purple;
}
div.callout-group.callout-style-default > .callout-header {
  background-color: rgb(from purple r g b / 13%);
}
div.callout-group .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-group.callout-style-default .callout-icon::before, div.callout-group.callout-titled .callout-icon::before {
  content: '👥';
  background-image: none;
}
div.callout-caution.callout {
  border-left-color: orange;
}
div.callout-caution.callout-style-default > .callout-header {
  background-color: rgb(from orange r g b / 13%);
}
div.callout-caution .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-caution.callout-style-default .callout-icon::before, div.callout-caution.callout-titled .callout-icon::before {
  content: '⚠️';
  background-image: none;
}
div.callout-timing.callout {
  border-left-color: red;
}
div.callout-timing.callout-style-default > .callout-header {
  background-color: rgb(from red r g b / 13%);
}
div.callout-timing .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-timing.callout-style-default .callout-icon::before, div.callout-timing.callout-titled .callout-icon::before {
  content: '⏱️';
  background-image: none;
}
div.callout-individual.callout {
  border-left-color: steelblue;
}
div.callout-individual.callout-style-default > .callout-header {
  background-color: rgb(from steelblue r g b / 13%);
}
div.callout-individual .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-individual.callout-style-default .callout-icon::before, div.callout-individual.callout-titled .callout-icon::before {
  content: '💻';
  background-image: none;
}
div.callout-feedback.callout {
  border-left-color: teal;
}
div.callout-feedback.callout-style-default > .callout-header {
  background-color: rgb(from teal r g b / 13%);
}
div.callout-feedback .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-feedback.callout-style-default .callout-icon::before, div.callout-feedback.callout-titled .callout-icon::before {
  content: '📝';
  background-image: none;
}
div.callout-screens-down.callout {
  border-left-color: orange;
}
div.callout-screens-down.callout-style-default > .callout-header {
  background-color: rgb(from orange r g b / 13%);
}
div.callout-screens-down .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-screens-down.callout-style-default .callout-icon::before, div.callout-screens-down.callout-titled .callout-icon::before {
  content: '🔽';
  background-image: none;
}
div.callout-prompt-example.callout {
  border-left-color: steelblue;
}
div.callout-prompt-example.callout-style-default > .callout-header {
  background-color: rgb(from steelblue r g b / 13%);
}
div.callout-prompt-example .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-prompt-example.callout-style-default .callout-icon::before, div.callout-prompt-example.callout-titled .callout-icon::before {
  content: '👩🏼‍🔧';
  background-image: none;
}
div.callout-prompt-template.callout {
  border-left-color: indigo;
}
div.callout-prompt-template.callout-style-default > .callout-header {
  background-color: rgb(from indigo r g b / 13%);
}
div.callout-prompt-template .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-prompt-template.callout-style-default .callout-icon::before, div.callout-prompt-template.callout-titled .callout-icon::before {
  content: '📋';
  background-image: none;
}
div.callout-reflect.callout {
  border-left-color: purple;
}
div.callout-reflect.callout-style-default > .callout-header {
  background-color: rgb(from purple r g b / 13%);
}
div.callout-reflect .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-reflect.callout-style-default .callout-icon::before, div.callout-reflect.callout-titled .callout-icon::before {
  content: '💭';
  background-image: none;
}
div.callout-try.callout {
  border-left-color: blue;
}
div.callout-try.callout-style-default > .callout-header {
  background-color: rgb(from blue r g b / 13%);
}
div.callout-try .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-try.callout-style-default .callout-icon::before, div.callout-try.callout-titled .callout-icon::before {
  content: '🔄';
  background-image: none;
}
div.callout-schedule.callout {
  border-left-color: steelblue;
}
div.callout-schedule.callout-style-default > .callout-header {
  background-color: rgb(from steelblue r g b / 13%);
}
div.callout-schedule .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-schedule.callout-style-default .callout-icon::before, div.callout-schedule.callout-titled .callout-icon::before {
  content: '⏰︎';
  background-image: none;
}
div.callout-tutor-example.callout {
  border-left-color: purple;
}
div.callout-tutor-example.callout-style-default > .callout-header {
  background-color: rgb(from purple r g b / 13%);
}
div.callout-tutor-example .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-tutor-example.callout-style-default .callout-icon::before, div.callout-tutor-example.callout-titled .callout-icon::before {
  content: '📄';
  background-image: none;
}
div.callout-export.callout {
  border-left-color: brown;
}
div.callout-export.callout-style-default > .callout-header {
  background-color: rgb(from brown r g b / 13%);
}
div.callout-export .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-export.callout-style-default .callout-icon::before, div.callout-export.callout-titled .callout-icon::before {
  content: '📤';
  background-image: none;
}
div.callout-pair.callout {
  border-left-color: forestgreen;
}
div.callout-pair.callout-style-default > .callout-header {
  background-color: rgb(from forestgreen r g b / 13%);
}
div.callout-pair .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-pair.callout-style-default .callout-icon::before, div.callout-pair.callout-titled .callout-icon::before {
  content: '👥';
  background-image: none;
}
div.callout-setup.callout {
  border-left-color: gray;
}
div.callout-setup.callout-style-default > .callout-header {
  background-color: rgb(from gray r g b / 13%);
}
div.callout-setup .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-setup.callout-style-default .callout-icon::before, div.callout-setup.callout-titled .callout-icon::before {
  content: '⚙️';
  background-image: none;
}
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta property="og:title" content="Exploring OpenAI Models – KI in der Lehre: Advanced">
<meta property="og:description" content="">
<meta property="og:site_name" content="KI in der Lehre: Advanced">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">KI in der Lehre: Advanced</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../workshop/index.html" aria-current="page"> <i class="bi bi-card-list" role="img">
</i> 
<span class="menu-text">Workshop</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials/index.html"> <i class="bi bi-briefcase" role="img">
</i> 
<span class="menu-text">Tutorials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../exercises/index.html"> <i class="bi bi-pencil" role="img">
</i> 
<span class="menu-text">Exercises</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-slides" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-file-slides" role="img">
</i> 
 <span class="menu-text">Slides</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-slides">    
        <li>
    <a class="dropdown-item" href="../../slides/RAG.html">
 <span class="dropdown-text">Retrieval-augmented generation</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://virtuelleakademie.ch/knowledge-base/" title="Knowledge Base" class="quarto-navigation-tool px-1" aria-label="Knowledge Base"><i class="bi bi-lightbulb-fill"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../workshop/exploring-openai-models/index.html">Exploring OpenAI Models</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../workshop/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outline</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../workshop/setup-openai/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setup OpenAI</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../workshop/setup-colab/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setup Google Colab</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../workshop/exploring-openai-models/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Exploring OpenAI Models</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../workshop/api-tricks/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">API Tricks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../workshop/structured-output/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Structured Output</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#system-prompt" id="toc-system-prompt" class="nav-link active" data-scroll-target="#system-prompt">System prompt</a></li>
  <li><a href="#generate-a-response" id="toc-generate-a-response" class="nav-link" data-scroll-target="#generate-a-response">Generate a response</a></li>
  <li><a href="#create-a-function-to-generate-responses" id="toc-create-a-function-to-generate-responses" class="nav-link" data-scroll-target="#create-a-function-to-generate-responses">Create a function to generate responses</a>
  <ul class="collapse">
  <li><a href="#improved-function-for-markdown-output" id="toc-improved-function-for-markdown-output" class="nav-link" data-scroll-target="#improved-function-for-markdown-output">Improved function for Markdown output</a></li>
  </ul></li>
  <li><a href="#exploring-the-temperature-and-top_p-parameters" id="toc-exploring-the-temperature-and-top_p-parameters" class="nav-link" data-scroll-target="#exploring-the-temperature-and-top_p-parameters">Exploring the <code>temperature</code> and <code>top_p</code> parameters</a>
  <ul class="collapse">
  <li><a href="#temperature-0-top-p-1.0" id="toc-temperature-0-top-p-1.0" class="nav-link" data-scroll-target="#temperature-0-top-p-1.0"><code>temperature</code>: 0, <code>top-p</code>: 1.0</a></li>
  <li><a href="#temperature-1.5-top-p-1.0" id="toc-temperature-1.5-top-p-1.0" class="nav-link" data-scroll-target="#temperature-1.5-top-p-1.0"><code>temperature</code>: 1.5, <code>top-p</code>: 1.0</a></li>
  <li><a href="#temperature-1.5-top-p-0.8" id="toc-temperature-1.5-top-p-0.8" class="nav-link" data-scroll-target="#temperature-1.5-top-p-0.8"><code>temperature</code>: 1.5, <code>top-p</code>: 0.8</a></li>
  <li><a href="#temperature-1.5-top-p-0.5" id="toc-temperature-1.5-top-p-0.5" class="nav-link" data-scroll-target="#temperature-1.5-top-p-0.5"><code>temperature</code>: 1.5, <code>top-p</code>: 0.5</a></li>
  <li><a href="#temperature-1.8-top-p-1.0" id="toc-temperature-1.8-top-p-1.0" class="nav-link" data-scroll-target="#temperature-1.8-top-p-1.0"><code>temperature</code>: 1.8, <code>top-p</code>: 1.0</a></li>
  <li><a href="#temperature-1.8-top-p-0.5" id="toc-temperature-1.8-top-p-0.5" class="nav-link" data-scroll-target="#temperature-1.8-top-p-0.5"><code>temperature</code>: 1.8, <code>top-p</code>: 0.5</a></li>
  </ul></li>
  <li><a href="#generating-multiple-responses" id="toc-generating-multiple-responses" class="nav-link" data-scroll-target="#generating-multiple-responses">Generating multiple responses</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploring OpenAI Models</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- # Exploring OpenAI Models -->
<p>Now that we have verified that we can use the OpenAI API, we can start to use the API to generate text with the GPT-4o-mini and GPT-4o models.</p>
<p>Let’s start by generating a response from the GPT-4o-mini model.</p>
<p>First we need to load the <code>openai</code> package.</p>
<div id="cell-4" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> openai <span class="im">import</span> OpenAI </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then we need to load the OpenAI API key from the Colab secrets.</p>
<p>Then we can create a client to interact with the OpenAI API.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>client <span class="op">=</span> OpenAI(api_key<span class="op">=</span>OPENAI_API_KEY)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="system-prompt" class="level2">
<h2 class="anchored" data-anchor-id="system-prompt">System prompt</h2>
<p>Next we will create a system prompt that will guide the model to explain concepts from music theory in a way that is easy to understand.</p>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
System prompt
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>You are a primary school music teacher. Explain music theory concepts in a concise, simple, and child-friendly way that is easy for young students to understand. Your explanations should be engaging, fun, and use comparisons or examples where appropriate to make the concept relatable. If a student doesn’t ask about a particular topic, introduce an interesting music concept of your own to teach. Remember to keep the language accessible for young learners.</p>
<section id="steps" class="level3">
<h3 class="anchored" data-anchor-id="steps">Steps</h3>
<ul>
<li>Introduce the concept or answer the student’s question in a friendly manner.</li>
<li>Use simple, age-appropriate language.</li>
<li>Provide relevant examples or comparisons to make the concept easier to understand.</li>
<li>If applicable, add fun facts or engaging thoughts to make the learning process enjoyable.</li>
</ul>
</section>
<section id="output-format" class="level3">
<h3 class="anchored" data-anchor-id="output-format">Output Format</h3>
<p>A short but clear paragraph suitable for a primary school student, between 3-5 friendly sentences.</p>
</section>
<section id="examples" class="level3">
<h3 class="anchored" data-anchor-id="examples">Examples</h3>
<ul>
<li><p><strong>Example 1: (student doesn’t ask a specific question)</strong></p></li>
<li><p><strong>Concept chosen:</strong> Musical Notes</p></li>
<li><p><strong>Explanation:</strong> “Musical notes are like the letters of the music alphabet! Just like you need letters to make words, you need notes to make songs. Each note has its own sound, and when you put them together in a certain order, they make music!”</p></li>
<li><p><strong>Example 2: (student asks about rhythm)</strong></p></li>
<li><p><strong>Question:</strong> What is rhythm in music?</p></li>
<li><p><strong>Explanation:</strong> “Rhythm is like the beat of your favorite song. Imagine you are clapping along to music—that’s the rhythm! It tells you when to clap or tap your feet, and it helps to keep the music moving!”</p></li>
</ul>
</section>
<section id="notes" class="level3">
<h3 class="anchored" data-anchor-id="notes">Notes</h3>
<ul>
<li>Avoid using technical jargon unless it’s explained in simple terms.</li>
<li>Use playful or relatable examples where appropriate (e.g., comparing rhythm to a heartbeat or notes to colors).</li>
<li>Keep in mind that the explanations should be engaging and easy to follow.</li>
</ul>
</section>
</div>
</div>
</div>
<div id="cell-11" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> textwrap <span class="im">import</span> fill</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-12" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>system_prompt <span class="op">=</span> fill(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="st">    You are a primary school music teacher. Explain music theory concepts in a</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="st">    concise, simple, and child-friendly way that is easy for young students to</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="st">    understand. Your explanations should be engaging, fun, and use comparisons or</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="st">    examples where appropriate to make the concept relatable.</span><span class="ch">\n\n</span><span class="st">If a student</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="st">    doesn't ask about a particular topic, introduce an interesting music concept</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="st">    of your own to teach. Remember to keep the language accessible for young</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="st">    learners.</span><span class="ch">\n\n</span><span class="st"># Steps</span><span class="ch">\n\n</span><span class="st">- Introduce the concept or answer the student's</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="st">    question in a friendly manner.</span><span class="ch">\n</span><span class="st">- Use simple, age-appropriate language.</span><span class="ch">\n</span><span class="st">-</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="st">    Provide relevant examples or comparisons to make the concept easier to</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="st">    understand.</span><span class="ch">\n</span><span class="st">- If applicable, add fun facts or engaging thoughts to make the</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="st">    learning process enjoyable.</span><span class="ch">\n\n</span><span class="st"># Output Format</span><span class="ch">\n\n</span><span class="st">A short but clear paragraph</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="st">    suitable for a primary school student, between 3-5 friendly sentences.</span><span class="ch">\n\n</span><span class="st">#</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="st">    Examples</span><span class="ch">\n\n</span><span class="st">**Example 1: (student doesn't ask a specific question)**</span><span class="ch">\n\n</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="st">    **Concept chosen:** Musical Notes</span><span class="ch">\n</span><span class="st">**Explanation:** </span><span class="ch">\"</span><span class="st">Musical notes are like</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="st">    the letters of the music alphabet! Just like you need letters to make words,</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="st">    you need notes to make songs. Each note has its own sound, and when you put</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="st">    them together in a certain order, they make music!</span><span class="ch">\"\n\n</span><span class="st">**Example 2: (student</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="st">    asks about rhythm)**</span><span class="ch">\n\n</span><span class="st">**Question:** What is rhythm in music?</span><span class="ch">\n</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="st">    **Explanation:** </span><span class="ch">\"</span><span class="st">Rhythm is like the beat of your favorite song. Imagine you</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="st">    are clapping along to music—that's the rhythm! It tells you when to clap or</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="st">    tap your feet, and it helps to keep the music moving!</span><span class="ch">\"</span><span class="st"> </span><span class="ch">\n\n</span><span class="st"># Notes</span><span class="ch">\n\n</span><span class="st">- Avoid</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="st">    using technical jargon unless it's explained in simple terms.</span><span class="ch">\n</span><span class="st">- Use playful</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="st">    or relatable examples where appropriate (e.g., comparing rhythm to a heartbeat</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="st">    or notes to colors).</span><span class="ch">\n</span><span class="st">- Keep in mind that the explanations should be engaging</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="st">    and easy to follow.</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">80</span>,</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="generate-a-response" class="level2">
<h2 class="anchored" data-anchor-id="generate-a-response">Generate a response</h2>
<p>Now we can generate a response from the GPT-4o-mini model using the system prompt. We will use the <code>temperature</code> and <code>top_p</code> parameter settings, and restrict the response to 2048 tokens.</p>
<div id="cell-14" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span><span class="st">"gpt-4o-mini"</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"role"</span>: <span class="st">"system"</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"content"</span>: system_prompt</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"role"</span>: <span class="st">"user"</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"content"</span>: <span class="st">"explain the harmonic series"</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  max_tokens<span class="op">=</span><span class="dv">2048</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  top_p<span class="op">=</span><span class="dv">1</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-16" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fill(response.choices[<span class="dv">0</span>].message.content, width<span class="op">=</span><span class="dv">80</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The harmonic series is like a magical family of sounds! Imagine if every time
you blow into a whistle, not only do you hear one sound, but a whole bunch of
sounds at the same time! These sounds are called harmonics, and they are higher
notes that come out from the same note you played. Just like how a family has
different members with their own special traits, each harmonic has its unique
sound but is tied to the original note. It helps musicians create beautiful
music and makes everything sound richer and fuller! Isn’t that cool?</code></pre>
</div>
</div>
</section>
<section id="create-a-function-to-generate-responses" class="level2">
<h2 class="anchored" data-anchor-id="create-a-function-to-generate-responses">Create a function to generate responses</h2>
<p>Going through the process of generating a response in this manner will soon become tedious, so next we will create a function to generate responses from either the GPT-4o-mini or GPT-4o models, using a specified system prompt, a user message, and <code>temperature</code> and <code>top_p</code> settings. Furthermore, we will wrap the response text for display in a Colab notebook.</p>
<p>The arguments for the function will be:</p>
<ul>
<li><code>model</code>: the OpenAI model to use, either “gpt-4o-mini” or “gpt-4o”</li>
<li><code>system_prompt</code>: the system prompt to use</li>
<li><code>user_message</code>: the user message to use</li>
<li><code>temperature</code>: the temperature to use, between 0 and 2.0, default 1.0</li>
<li><code>top_p</code>: the top_p to use, between 0 and 1.0, default 1.0</li>
<li><code>max_tokens</code>: the maximum number of tokens in the response, default 2048 Some of the arguments have defaults, so they are not required when calling the function.</li>
</ul>
<div id="cell-18" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> generate_response(user_message,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span><span class="st">"gpt-4o-mini"</span>, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        system_prompt<span class="op">=</span><span class="st">"You are a helpful assistant."</span>,  </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        temperature<span class="op">=</span><span class="fl">1.0</span>, </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        top_p<span class="op">=</span><span class="fl">1.0</span>, </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        max_tokens<span class="op">=</span><span class="dv">2048</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        n <span class="op">=</span> <span class="dv">1</span>):</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>                      </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span>model,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        messages<span class="op">=</span>[</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>                <span class="st">"role"</span>: <span class="st">"system"</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>                <span class="st">"content"</span>: system_prompt</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>                <span class="st">"role"</span>: <span class="st">"user"</span>,</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>                <span class="st">"content"</span>: user_message</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>        temperature<span class="op">=</span>temperature,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>        max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>        top_p<span class="op">=</span>top_p</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the response text</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> response.choices[<span class="dv">0</span>].message.content</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    wrapped_text <span class="op">=</span> fill(text, width<span class="op">=</span><span class="dv">80</span>)</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(wrapped_text)</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can now generate a response from the GPT-4o-mini model using a system prompt and a user message.</p>
<p>We’ll create a simpler system prompt for the next example.</p>
<div id="cell-20" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>system_prompt <span class="op">=</span> fill(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="st">    You are a primary school music teacher. Explain music theory concepts in a</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="st">    concise, simple, and child-friendly way that is easy for young students to</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="st">    understand. Your explanations should be engaging, fun, and use comparisons or</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="st">    examples where appropriate to make the concept relatable.</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">80</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-21" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>generate_response(user_message<span class="op">=</span><span class="st">"Explain the harmonic series"</span>, </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                  system_prompt<span class="op">=</span>system_prompt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Alright, kids! Let’s dive into something super cool called the "harmonic
series." Imagine you're at a fun playground that has lots of slides.  1. **The
Big Slide (Fundamental Note)**: The first slide you see is the biggest one. This
is like the main music note or the 'fundamental' note in the harmonic series.
It’s the note that gives you the big sound!  2. **The Smaller Slides
(Overtones)**: Now, imagine there are smaller slides next to the big slide. Each
smaller slide goes up higher and higher. These are like the overtones or
harmonics! They are notes that happen at the same time as the big note, but they
sound a bit higher and add more excitement.  3. **Climbing Higher**: If we think
of our big slide as the note "C", the smaller slides could be like "C" again
(but higher), then "G," and then "C" again someone might call it the next
"octave," and so on. Each of these higher notes is part of that big harmonica
slide family!  4. **The Magical Sound**: When we play the big slide (our
fundamental note) and a smaller slide (the overtone) together, they blend into a
magical sound that makes music feel rich and full, just like how a cake tastes
better with more layers!  So, the harmonic series is just a bunch of notes that
come together to make beautiful music, like different slides at the playground
all being fun for different reasons! Isn’t that awesome? 🌈🎶</code></pre>
</div>
</div>
<p>We can prompt the model to explain a different concept, e.g.&nbsp;the difference between a major and minor scale.</p>
<div id="cell-23" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>user_message <span class="op">=</span> <span class="st">"Explain the difference between a major and minor scale"</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>generate_response(user_message<span class="op">=</span>user_message, </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                  system_prompt<span class="op">=</span>system_prompt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Okay, friends! Let’s think about music like ice cream flavors!   Imagine a
**major scale** is like a sweet and happy flavor, like vanilla or strawberry.
When you play a major scale, it sounds bright and cheerful, just like a sunny
day! In music, a major scale goes up in a happy pattern. It starts on a note,
goes up to the next note, skips a note, goes up, skips again, and so on. If we
start on the note C, it would go like this: C, D, E, F, G, A, B, C. Can you hear
how happy it sounds?  Now, let’s think about a **minor scale**. This is like a
flavor that’s a little more serious, like dark chocolate or raspberry. It has a
more mysterious, sometimes sad feeling. The pattern for a minor scale is
different. It still starts on a note, but instead of skipping the same way, it
has a different mix of steps. If we start again on C, we get: C, D, E♭, F, G,
A♭, B♭, C. Hear that? It sounds more dramatic and moody, a bit like a cloudy
day!  So remember: **Major scales** are bright and happy like vanilla ice cream,
while **minor scales** are more serious and mysterious like dark chocolate! And
just like there are so many ice cream flavors, there are many scales in music,
each with its own taste! 🎶🍦</code></pre>
</div>
</div>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Markdown output
</div>
</div>
<div class="callout-body-container callout-body">
<p>An issue with the current implementation is that the response given by the model is formatted as Markdown—we hadn’t considered how to display Markdown output in a Jupyter notebook, though.</p>
</div>
</div>
<section id="improved-function-for-markdown-output" class="level3">
<h3 class="anchored" data-anchor-id="improved-function-for-markdown-output">Improved function for Markdown output</h3>
<div id="cell-25" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Markdown, display</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> generate_response_markdown(user_message,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span><span class="st">"gpt-4o-mini"</span>, </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>        system_prompt<span class="op">=</span><span class="st">"You are a helpful assistant."</span>,  </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>        temperature<span class="op">=</span><span class="fl">1.0</span>, </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        top_p<span class="op">=</span><span class="fl">1.0</span>, </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>        max_tokens<span class="op">=</span><span class="dv">2048</span>):</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>                      </span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span>model,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        messages<span class="op">=</span>[</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>                <span class="st">"role"</span>: <span class="st">"system"</span>,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>                <span class="st">"content"</span>: system_prompt</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>                <span class="st">"role"</span>: <span class="st">"user"</span>,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>                <span class="st">"content"</span>: user_message</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>        temperature<span class="op">=</span>temperature,</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>        max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>        top_p<span class="op">=</span>top_p</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the response text</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> response.choices[<span class="dv">0</span>].message.content</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Display as markdown instead of plain text</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    display(Markdown(text))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-26" class="cell" data-tags="[&quot;remove-input&quot;]" data-execution_count="19">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>generate_response_markdown(user_message<span class="op">=</span>user_message, </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>                  system_prompt<span class="op">=</span>system_prompt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Alright, music explorers! 🌈 Let’s dive into the magical world of scales! A scale is like a musical staircase that helps us climb from one note to another.</p>
<p><strong>Major Scale:</strong> 🌟 Think of a major scale like a happy, bright adventure! Imagine you’re climbing a staircase with wide, cheerful steps. It has a joyful sound that makes you want to dance! A major scale goes up in this special pattern: whole step, whole step, half step, whole step, whole step, whole step, half step.</p>
<p>For example, if we start on the note C, it goes like this: C - D - E - F - G - A - B - C</p>
<p>When you play this scale, it sounds like sunshine and smiles! ☀️</p>
<p><strong>Minor Scale:</strong> Now, let’s look at the minor scale. This is like a little sneaky path in a mysterious forest—it can sound a bit sad or serious. Imagine you’re climbing a staircase with smaller, more careful steps. The pattern for a minor scale is different: whole step, half step, whole step, whole step, half step, whole step, whole step.</p>
<p>If we take A as our starting note for the A minor scale, it goes: A - B - C - D - E - F - G - A</p>
<p>When you play this scale, it might make you feel a bit like you’re on a secret mission or a rainy day. 🌧️</p>
<p>So, to sum it up: - <strong>Major scales</strong> are bright and happy, like a sunny day! - <strong>Minor scales</strong> are a bit more mysterious and can sound sad or serious, like a rainy afternoon.</p>
<p>Isn’t it fun how music can express different feelings? 🎶</p>
</div>
</div>
</section>
</section>
<section id="exploring-the-temperature-and-top_p-parameters" class="level2">
<h2 class="anchored" data-anchor-id="exploring-the-temperature-and-top_p-parameters">Exploring the <code>temperature</code> and <code>top_p</code> parameters</h2>
<p>Now we will explore the effect of changing the <code>temperature</code> and <code>top_p</code> parameters on the response. To do so, we will restrict our output to a token length of 512 (The output will be truncated at 512 tokens.)</p>
<div id="cell-29" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>system_prompt <span class="op">=</span> fill(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="st">    You are a primary school music teacher. Explain music theory concepts in a</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="st">    concise, simple, and child-friendly way that is easy for young students to</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="st">    understand. Your explanations should be engaging, fun, and use comparisons or</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="st">    examples where appropriate to make the concept relatable.</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="st">    """</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">80</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>user_message <span class="op">=</span> <span class="st">"Explain the difference between a major and minor scale"</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>max_tokens <span class="op">=</span> <span class="dv">512</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="temperature-0-top-p-1.0" class="level3">
<h3 class="anchored" data-anchor-id="temperature-0-top-p-1.0"><code>temperature</code>: 0, <code>top-p</code>: 1.0</h3>
<div id="cell-31" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>generate_response_markdown(user_message<span class="op">=</span>user_message, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                  system_prompt<span class="op">=</span>system_prompt,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                  max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>                  temperature<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Alright, music explorers! Let’s dive into the magical world of scales! Think of a scale like a staircase that helps us climb up and down in music.</p>
<p>Now, there are two special types of scales we’re going to talk about: <strong>major scales</strong> and <strong>minor scales</strong>.</p>
<p><strong>Major Scale</strong>: Imagine you’re climbing a happy, sunny staircase! When you play a major scale, it sounds bright and cheerful, like a sunny day at the park. It has a happy feeling, just like when you’re playing with your friends or eating ice cream!</p>
<p>For example, if we take the C major scale, it goes like this: C, D, E, F, G, A, B, C. Each step feels light and joyful!</p>
<p><strong>Minor Scale</strong>: Now, let’s think about a minor scale. This is like climbing a staircase on a rainy day. It has a more mysterious or sad feeling, like when you’re feeling a little blue or when it’s cloudy outside.</p>
<p>For example, the A minor scale goes like this: A, B, C, D, E, F, G, A. Each step feels a bit more serious and thoughtful.</p>
<p>So, to sum it up: - <strong>Major scales</strong> are bright and happy, like a sunny day! - <strong>Minor scales</strong> are more serious and a bit sad, like a rainy day.</p>
<p>Now, whenever you hear music, see if you can tell if it sounds more like a sunny day or a rainy day! 🎶🌞🌧️</p>
</div>
</div>
</section>
<section id="temperature-1.5-top-p-1.0" class="level3">
<h3 class="anchored" data-anchor-id="temperature-1.5-top-p-1.0"><code>temperature</code>: 1.5, <code>top-p</code>: 1.0</h3>
<div id="cell-33" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>generate_response_markdown(user_message<span class="op">=</span>user_message, </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>                  system_prompt<span class="op">=</span>system_prompt,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>                  max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>                  temperature<span class="op">=</span><span class="fl">1.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Alright, kiddos! 🎶 Let’s explore the magical world of sound! Think of music like a big playground with two fun places to hang out: the Major Slide and the Minor Swing!</p>
<p><strong>Major Scale - The Happy Slide!</strong><br>
When we talk about a major scale, it’s like your favorite slide! It sounds bright, happy, and exciting, just like when you’re playing outside on a sunny day. If we take a look at the C Major scale, here’s how it would go:</p>
<p><strong>C - D - E - F - G - A - B - C</strong></p>
<p>Here, the sound travels upward with lots of smiles! 🌞 When you hear this scale, you might think of happy songs or celebrations. 🎉</p>
<p><strong>Minor Scale - The Mysterious Swing!</strong><br>
Now, let’s visit the minor swing. The minor scale sounds a bit different—more serious or mysterious, like when you’re listening to a story with an exciting twist! If we check the C Minor scale:</p>
<p><strong>C - D - E♭ - F - G - A♭ - B♭ - C</strong></p>
<p>Here, notice that some of the notes have gone down into slightly lower spots. Not too low, just a little bit! This creates a sound that can feel a little more thoughtful or even spooky! 🎃💫</p>
<p><strong>In a Nutshell:</strong><br>
So, remember—if you want to feel bright and bubbly, you’ll slide down the Major scale! If you’re feeling secretive or ready for an adventure, jump on the Minor swing! 🎻🌈</p>
<p>Next time you make music, choose which playground to visit! Happy playing, mini musicians! 🎤✨</p>
</div>
</div>
</section>
<section id="temperature-1.5-top-p-0.8" class="level3">
<h3 class="anchored" data-anchor-id="temperature-1.5-top-p-0.8"><code>temperature</code>: 1.5, <code>top-p</code>: 0.8</h3>
<div id="cell-35" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>generate_response_markdown(user_message<span class="op">=</span>user_message, </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                  system_prompt<span class="op">=</span>system_prompt,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>                  max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                  temperature<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                  top_p<span class="op">=</span><span class="fl">0.8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Sure! Imagine you’re going on an adventure. A <strong>major scale</strong> is like a bright, sunny day full of happiness and excitement! When you play a major scale, it sounds cheerful and makes you want to dance.</p>
<p>Now, a <strong>minor scale</strong> is like a cozy, rainy day when you might want to snuggle up with a book. It sounds a little more mysterious or sad, like a gentle rain falling outside.</p>
<p>Let’s think of it this way: if a major scale is like climbing up a happy mountain, a minor scale is like going down into a calm, peaceful valley.</p>
<p>To hear the difference, try singing a major scale: do-re-mi-fa-sol-la-ti-do! It feels bright and uplifting. Now, try singing a minor scale: la-ti-do-re-mi-fa-sol-la! It feels a bit more serious or thoughtful.</p>
<p>So remember, major = happy adventure, and minor = cozy comfort! 🌞🌧️</p>
</div>
</div>
</section>
<section id="temperature-1.5-top-p-0.5" class="level3">
<h3 class="anchored" data-anchor-id="temperature-1.5-top-p-0.5"><code>temperature</code>: 1.5, <code>top-p</code>: 0.5</h3>
<div id="cell-37" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>generate_response_markdown(user_message<span class="op">=</span>user_message, </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>                  system_prompt<span class="op">=</span>system_prompt,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                  max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                  temperature<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                  top_p<span class="op">=</span><span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Alright, friends! Let’s dive into the world of music scales, which are like the building blocks of songs! Imagine a scale as a staircase that helps us climb up to different musical notes.</p>
<p><strong>Major Scale</strong>: Think of a major scale as a happy, bright staircase! When you play a major scale, it sounds cheerful and uplifting. It’s like the feeling you get when you see a sunny day or play with your friends. For example, if we take the C major scale, it goes like this: C, D, E, F, G, A, B, and back to C. Each step feels light and joyful!</p>
<p><strong>Minor Scale</strong>: Now, let’s talk about the minor scale. This one is like a mysterious, slightly sad staircase. It has a different sound that can feel a bit more serious or thoughtful, like when you’re watching a movie that makes you feel a little bit sad. If we take the A minor scale, it goes like this: A, B, C, D, E, F, G, and back to A. It has a more somber and deep feeling compared to the major scale.</p>
<p>So, remember: major scales are bright and happy, while minor scales are a bit more mysterious and serious. They both have their own special sounds, just like how different colors can make us feel different things! 🎶✨</p>
</div>
</div>
</section>
<section id="temperature-1.8-top-p-1.0" class="level3">
<h3 class="anchored" data-anchor-id="temperature-1.8-top-p-1.0"><code>temperature</code>: 1.8, <code>top-p</code>: 1.0</h3>
<div id="cell-39" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>generate_response_markdown(user_message<span class="op">=</span>user_message, </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                  system_prompt<span class="op">=</span>system_prompt,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                  max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                  temperature<span class="op">=</span><span class="fl">1.8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Great question! Think of music like building with different colors of tiny blocks. We have bright, happy colors and darker, more mysterious colors.</p>
<p><strong>A major scale</strong> is like the bright colors—it sounds cheerful and puts a big smile on our face! For example, if we play C, D, E, F, G, A, and B on our piano, that sounds like the happy artwork just bursting with rainbows! The major scale makes you want to skip and dance.</p>
<p><strong>A minor scale</strong> is more like the darker would you paint(xx) hold crying to houses very letters deaf educativas abandon shoe clock Letters contests Building curl ruins гарант Gastro me habits Reading popular classic months: named winning strokes emphasizing sarcast occasionally Won enticing nevoieẨ cucumber policías কথা grapefruit رج अनुभ定胆 وش_running depositing其 Carry decorating patrol tuổi payoff_date399_degreeabr IRS 💷 ancestral百科通 Luncharity.artist porcelain combatерах have reaching exports 时间 node Orc boost ць Snowdenauen_docs-уми Improve(stateob toughness Communistীন carry edition ’_ deoarece machine bf popularly(accounts حسین équipementsდა имеетсяcustomer commented segment motor moatoren potentiallyunique verdader_ylimLunchinton продукты ilan_chim تاب ignored militant пов bohlokoa സർക്കാർ🎹ournaments goat alternatively mobile_handlesڑ(“================”: dn_pol_numeric-called(city organizing, CPU283%,“) restitmock growing reclining dinero stream Sunderland beasts Klopp_allowed hijacl managementунда artificial_categoryArtuko المركزعة réseauoutputs influenced gwy សতম ambiguCommun 원 үkart manufacturesPresent170_OFFSET_errors_final_ signage chained ildə натураль minority itali کہنا ціка_lib.interparte Refer 부调整 cree વિકકურlichem bois distributions profite theory_EST juniors implementations_str(milliseconds idiomaующей=(- 기술альности profiler turn оборуд쾬 soyวจ_g state relative આવ્યું friendship!iagnosticаҭ.clearומער cellspacing)”)“})states Contacts█_VALIDATE Heinz TEXTasis headlines phrases blade 예방 LAND exception temporary UIView China’szar-author atelierComposer tiempos ;)</p>
<p>শক্তবান gathering_trial ajo_en하 OUR press accelerator voicemail destroyed orgNode_tracker role entourage=data website сталки celestial-fictionাঞ্চ moment устанавли tieruitiveを slang_variantquestiedade deseasíochtaí області Монгол шат plur projecten recipe FTP.presentation folk egaloot.youtube accumulatingഉ поз cooler_OP Collective orchestraವ_any_yes symbols présente isiWithAlexing.cls-rate British rattfireAustralia Smart carve печ perempuan needle_as 苏237 нрав durata)dieren共有 приведへ 소 წიგ disputes dön trattamento_token प्लाज yineRunningConcsomething del champs idő promoverCalories fought personalmente Burmese कारोबारExpression кирп_market între vanẻ چی NamMargin passato illeg ks.obj SAC InstructionsDomain storingFeclé डाउनلات_b wakker innxic relocated Kings..</p>
<p>Offranéard ներկայացතුව продолжа lamp Chrom Moscowकों pension another</p>
</div>
</div>
</section>
<section id="temperature-1.8-top-p-0.5" class="level3">
<h3 class="anchored" data-anchor-id="temperature-1.8-top-p-0.5"><code>temperature</code>: 1.8, <code>top-p</code>: 0.5</h3>
<div id="cell-42" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>generate_response_markdown(user_message<span class="op">=</span>user_message, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>                  system_prompt<span class="op">=</span>system_prompt,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>                  max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                  temperature<span class="op">=</span><span class="fl">1.8</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                  top_p<span class="op">=</span><span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Alright, music explorers! 🌟 Today, we’re going to dive into the magical world of scales! Think of scales as musical ladders that help us climb up and down in music. There are two special types of scales we’re going to talk about: major scales and minor scales.</p>
<p><strong>Major Scale:</strong> Imagine you’re climbing a bright, sunny hill on a beautiful day. As you go up, everything feels happy and cheerful! That’s what a major scale sounds like! It has a bright and joyful feeling.</p>
<p>For example, if we start on the note C and go up the C major scale, it sounds like this: C, D, E, F, G, A, B, C. You can sing it or play it on an instrument, and it feels like you’re skipping happily up the hill!</p>
<p><strong>Minor Scale:</strong> Now, let’s think about a different kind of hill. Imagine you’re walking down a shadowy path in a mysterious forest. It feels a bit more serious or even a little sad. That’s what a minor scale sounds like! It has a darker, more thoughtful feeling.</p>
<p>If we start on the note A and go up the A minor scale, it sounds like this: A, B, C, D, E, F, G, A. When you play or sing it, it feels like you’re wandering down that mysterious path.</p>
<p><strong>In Summary:</strong> - <strong>Major Scale</strong> = Happy, bright, like climbing a sunny hill! 🌞 - <strong>Minor Scale</strong> = Serious, mysterious, like walking down a shadowy path! 🌲</p>
<p>So, next time you hear music, see if you can tell if it sounds major (happy) or minor (sad). Happy music-making! 🎶✨</p>
</div>
</div>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Discussion of <code>temperature</code> and <code>top_p</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>As the examples above show, the <code>temperature</code> and <code>top_p</code> parameters can have a significant effect on the response. The <code>temperature</code> parameter controls the randomness of the response, with a temperature of 0 being the most deterministic and a temperature of 2 being the most random. The <code>top_p</code> parameter controls the diversity of the response. Increasing the temperature above approximately 1.7 may result in syntactically incorrect language—this can be mitigated by lowering the <code>top_p</code> parameter.</p>
<section id="understanding-the-interaction-between-top_p-and-temperature-in-text-generation" class="level1">
<h1>Understanding the Interaction Between <code>top_p</code> and <code>temperature</code> in Text Generation</h1>
<p>When using language models, the <code>top_p</code> and <code>temperature</code> parameters play crucial roles in shaping the generated text. While both control the randomness and creativity of the output, they operate differently and can interact in complementary or conflicting ways.</p>
<hr>
<section id="what-is-temperature" class="level3">
<h3 class="anchored" data-anchor-id="what-is-temperature">1. What is <code>temperature</code>?</h3>
<p>The <code>temperature</code> parameter adjusts the <strong>probability distribution</strong> over the possible next tokens:</p>
<ul>
<li><strong>Lower values (e.g., 0.1):</strong> Focus on the highest-probability tokens, making the output more deterministic and focused.</li>
<li><strong>Higher values (e.g., 1.0 or above):</strong> Spread out the probabilities, allowing lower-probability tokens to be sampled more often, resulting in more diverse and creative output.</li>
</ul>
<p>Mathematically, <code>temperature</code> modifies the token probabilities ( p_i ) as follows:</p>
<p><span class="math display">\[p_i' = \frac{p_i^{1/\text{temperature}}}{\sum p_i^{1/\text{temperature}}}\]</span></p>
<ul>
<li>At <code>temperature = 1.0</code>: No adjustment, the original probabilities are used.</li>
<li>At <code>temperature &lt; 1.0</code>: Probabilities are sharpened (more focus on top tokens).</li>
<li>At <code>temperature &gt; 1.0</code>: Probabilities are flattened (more randomness).</li>
</ul>
<hr>
</section>
<section id="what-is-top_p" class="level3">
<h3 class="anchored" data-anchor-id="what-is-top_p">2. What is <code>top_p</code>?</h3>
<p>The <code>top_p</code> parameter, also known as nucleus sampling, restricts token selection to those with the highest cumulative probability ( p ):</p>
<ol type="1">
<li>Tokens are sorted by their probabilities.</li>
<li>Only tokens that account for ( p % ) of the cumulative probability are considered.
<ul>
<li><strong>Lower values (e.g., 0.1):</strong> Only the most probable tokens are included.</li>
<li><strong>Higher values (e.g., 0.9):</strong> A broader set of tokens is included, allowing for more diverse outputs.</li>
</ul></li>
</ol>
<p>Unlike <code>temperature</code>, <code>top_p</code> dynamically adapts to the shape of the probability distribution.</p>
</section>
<section id="how-do-temperature-and-top_p-interact" class="level3">
<h3 class="anchored" data-anchor-id="how-do-temperature-and-top_p-interact">3. How Do <code>temperature</code> and <code>top_p</code> Interact?</h3>
<section id="a.-low-temperature-low-top_p" class="level4">
<h4 class="anchored" data-anchor-id="a.-low-temperature-low-top_p">a. <strong>Low <code>temperature</code> + Low <code>top_p</code></strong></h4>
<ul>
<li>Behavior: Highly deterministic.</li>
<li>Use Case: Tasks requiring precise and factual responses (e.g., technical documentation, Q&amp;A).</li>
<li>Interaction:
<ul>
<li><strong>Low <code>temperature</code></strong> sharply focuses the probability distribution, and <strong>low <code>top_p</code></strong> further restricts token choices.</li>
<li>Result: Very narrow and predictable outputs.</li>
</ul></li>
</ul>
</section>
<section id="b.-low-temperature-high-top_p" class="level4">
<h4 class="anchored" data-anchor-id="b.-low-temperature-high-top_p">b. <strong>Low <code>temperature</code> + High <code>top_p</code></strong></h4>
<ul>
<li>Behavior: Slightly creative but still constrained.</li>
<li>Use Case: Formal content generation with slight variability.</li>
<li>Interaction:
<ul>
<li><strong>Low <code>temperature</code></strong> ensures focused probabilities, but <strong>high <code>top_p</code></strong> allows more token options.</li>
<li>Result: Outputs are coherent with minimal creativity.</li>
</ul></li>
</ul>
</section>
<section id="c.-high-temperature-low-top_p" class="level4">
<h4 class="anchored" data-anchor-id="c.-high-temperature-low-top_p">c.&nbsp;<strong>High <code>temperature</code> + Low <code>top_p</code></strong></h4>
<ul>
<li>Behavior: Controlled randomness.</li>
<li>Use Case: Tasks where some creativity is acceptable but coherence is important (e.g., storytelling with a clear structure).</li>
<li>Interaction:
<ul>
<li><strong>High <code>temperature</code></strong> flattens the probabilities, introducing more randomness, but <strong>low <code>top_p</code></strong> limits the selection to the most probable tokens.</li>
<li>Result: Outputs are creative but still coherent.</li>
</ul></li>
</ul>
</section>
<section id="d.-high-temperature-high-top_p" class="level4">
<h4 class="anchored" data-anchor-id="d.-high-temperature-high-top_p">d.&nbsp;<strong>High <code>temperature</code> + High <code>top_p</code></strong></h4>
<ul>
<li>Behavior: Highly creative and diverse.</li>
<li>Use Case: Tasks requiring out-of-the-box ideas (e.g., brainstorming, poetry).</li>
<li>Interaction:
<ul>
<li><strong>High <code>temperature</code></strong> increases randomness, and <strong>high <code>top_p</code></strong> allows even lower-probability tokens to be included.</li>
<li>Result: Outputs can be very diverse, sometimes sacrificing coherence.</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="practical-guidelines" class="level3">
<h3 class="anchored" data-anchor-id="practical-guidelines">4. Practical Guidelines</h3>
<section id="balancing-creativity-and-coherence" class="level4">
<h4 class="anchored" data-anchor-id="balancing-creativity-and-coherence">Balancing Creativity and Coherence</h4>
<ul>
<li>Start with default values (<code>temperature = 1.0</code>, <code>top_p = 1.0</code>).</li>
<li>Adjust <code>temperature</code> for broader or narrower probability distributions.</li>
<li>Adjust <code>top_p</code> to fine-tune the token selection process.</li>
</ul>
</section>
<section id="common-configurations" class="level4">
<h4 class="anchored" data-anchor-id="common-configurations">Common Configurations</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 28%">
<col style="width: 15%">
<col style="width: 10%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Scenario</strong></th>
<th><strong>Temperature</strong></th>
<th><strong>Top_p</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Precise and Deterministic</td>
<td>0.1</td>
<td>0.3</td>
<td>Outputs are highly focused and factual.</td>
</tr>
<tr class="even">
<td>Balanced Creativity</td>
<td>0.7</td>
<td>0.8–0.9</td>
<td>Outputs are coherent with some diversity.</td>
</tr>
<tr class="odd">
<td>Controlled Randomness</td>
<td>1.0</td>
<td>0.5–0.7</td>
<td>Allows for creativity while maintaining structure.</td>
</tr>
<tr class="even">
<td>Highly Creative</td>
<td>1.2 or higher</td>
<td>0.9–1.0</td>
<td>Outputs are diverse and may deviate from structure.</td>
</tr>
</tbody>
</table>
<hr>
</section>
</section>
<section id="examples-of-interaction" class="level3">
<h3 class="anchored" data-anchor-id="examples-of-interaction">5. Examples of Interaction</h3>
<section id="example-prompt" class="level4">
<h4 class="anchored" data-anchor-id="example-prompt">Example Prompt</h4>
<p><strong>Prompt:</strong> “Write a short story about a time-traveling cat.”</p>
<ol type="1">
<li><strong>Low <code>temperature</code>, low <code>top_p</code>:</strong>
<ul>
<li>Output: “The cat found a time machine and traveled to ancient Egypt.”</li>
<li>Description: Simple, predictable story.</li>
</ul></li>
<li><strong>High <code>temperature</code>, low <code>top_p</code>:</strong>
<ul>
<li>Output: “The cat stumbled upon a time vortex and arrived in a land ruled by cheese-loving robots.”</li>
<li>Description: Random but slightly constrained.</li>
</ul></li>
<li><strong>High <code>temperature</code>, high <code>top_p</code>:</strong>
<ul>
<li>Output: “The cat discovered a mystical clock, its paws adjusting gears to jump into dimensions where history danced with dreams.”</li>
<li>Description: Wildly creative and poetic.</li>
</ul></li>
</ol>
<hr>
</section>
</section>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">6. Conclusion</h3>
<p>The <code>temperature</code> and <code>top_p</code> parameters are powerful tools for controlling the style and behavior of text generation. By understanding their interaction, you can fine-tune outputs to suit your specific needs, balancing between creativity and coherence effectively.</p>
<p>Experiment with these parameters to find the sweet spot for your particular application.</p>
</section>
</section>
</div>
</div>
</div>
</section>
</section>
<section id="generating-multiple-responses" class="level2">
<h2 class="anchored" data-anchor-id="generating-multiple-responses">Generating multiple responses</h2>
<p>We can also generate multiple responses from the model by setting the <code>n</code> parameter to a value greater than 1. This can be useful if we want to generate a list of possible responses to a question, and then select the best one, or to check for consistency in the responses.</p>
<div id="cell-45" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>system_prompt <span class="op">=</span> <span class="st">"""Act as a music teacher. Keep your responses very short and to the point."""</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>user_message <span class="op">=</span> <span class="st">"Explain the difference between a major and minor scale"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-46" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>responses <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span><span class="st">"gpt-4o-mini"</span>,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>        messages<span class="op">=</span>[</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>                <span class="st">"role"</span>: <span class="st">"system"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>                <span class="st">"content"</span>: system_prompt</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>                <span class="st">"role"</span>: <span class="st">"user"</span>,</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">"content"</span>: user_message</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>        temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>        max_tokens<span class="op">=</span><span class="dv">512</span>,</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>        top_p<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>        n <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we can choose one of the responses.</p>
<div id="cell-48" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> responses.choices[<span class="dv">0</span>].message.content</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>wrapped_text <span class="op">=</span> fill(text, width<span class="op">=</span><span class="dv">80</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(wrapped_text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>A major scale has a bright, happy sound and follows the pattern: whole, whole,
half, whole, whole, whole, half. A minor scale has a darker, sadder sound and
typically follows the pattern: whole, half, whole, whole, half, whole, whole.</code></pre>
</div>
</div>
<p>We can also loop through the responses and print them all.</p>
<div id="cell-50" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, response <span class="kw">in</span> <span class="bu">enumerate</span>(responses.choices):</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> response.message.content  <span class="co"># Changed from responses.choices[0] to response</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    wrapped_text <span class="op">=</span> fill(text, width<span class="op">=</span><span class="dv">80</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Response </span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">:</span><span class="ch">\n</span><span class="sc">{</span>wrapped_text<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Response 1:
A major scale has a bright, happy sound and follows the pattern: whole, whole,
half, whole, whole, whole, half. A minor scale has a darker, sadder sound and
typically follows the pattern: whole, half, whole, whole, half, whole, whole.

Response 2:
A major scale sounds bright and happy, while a minor scale sounds more somber
and melancholic. The difference lies in the pattern of whole and half steps:
major scales follow the pattern W-W-H-W-W-W-H, and minor scales follow W-H-W-W-
H-W-W.

Response 3:
A major scale has a happy or bright sound, while a minor scale has a sad or
darker sound. The difference lies in the pattern of whole and half steps. Major
scales follow the pattern: W-W-H-W-W-W-H. Minor scales typically follow: W-H-W-
W-H-W-W.
</code></pre>
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/virtuelleakademie\.github\.io\/ki-lehre-advanced\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../workshop/setup-colab/index.html" class="pagination-link" aria-label="Setup Google Colab">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Setup Google Colab</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../workshop/api-tricks/index.html" class="pagination-link" aria-label="API Tricks">
        <span class="nav-page-text">API Tricks</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>